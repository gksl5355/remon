<template>
  <!-- <div class="space-y-4 transition-all duration-300"> -->
  <div class="w-full h-full flex flex-col min-h-0 space-y-4 transition-all duration-300">

    <div
      class="timeline-header-container sticky top-0 z-20 backdrop-blur-md pb-3 transition-all"
      :class="isDark ? 'bg-[#0b0f14]/90' : 'bg-gray-100'"
    >
      <div class="timeline-header-wrapper flex items-center pt-3">
        <h2
          class="timeline-header text-xl font-bold tracking-[0.35em] relative pb-1"
          :class="isDark ? 'text-white' : 'text-gray-900'"
        >
          TIME LINE

          <span
            class="absolute left-0 bottom-0 w-full h-[2px]"
            :class="isDark
              ? 'bg-gradient-to-r from-[#FDFF78] to-[#88C0D0]'
              : 'bg-gradient-to-r from-[#2c2c54] to-[#8888b4]'
            "
          ></span>
        </h2>

      </div>
    </div>

    <div class="timeline-scroll-container flex-1 min-h-0 overflow-y-auto pr-1">
      <div
        v-for="(item, i) in timeline"
        :key="item.id"
        class="relative flex gap-4 transition-all duration-300"
        :class="isDark ? 'text-gray-200' : 'text-gray-800'"
      >
        <div class="flex flex-col items-center">

          <div
            class="w-3 h-3 rounded-full border-2 transition-all duration-300"
            :class="[
              item.type === 'no-change'
                ? (isDark ? 'bg-mid-navy border-gray-600' : 'bg-gray-300 border-gray-400')
                : '',
              item.type === 'change'
                ? (isDark ? 'bg-primary-accent border-primary-accent'
                          : 'bg-blue-500 border-blue-400')
                : '',
              item.type === 'new'
                ? (isDark ? 'bg-accent-yellow border-accent-yellow'
                          : 'bg-yellow-400 border-yellow-300')
                : ''
            ]"
          ></div>

          <div
            v-if="i !== timeline.length - 1"
            class="w-[2px] flex-1 mt-1 transition-all duration-300"
            :class="isDark ? 'bg-timeline-line' : 'bg-gray-300'"
          ></div>

        </div>

        <div class="pb-4">
          <div
            class="text-[8px] mb-0.5 transition-all"
            :class="isDark ? 'text-gray-500' : 'text-gray-500'"
          >
            {{ item.date }}
          </div>

          <div class="flex items-center gap-2 mb-1">
            <span
              class="text-sm font-semibold transition-all"
              :class="isDark ? 'text-gray-100' : 'text-gray-900'"
            >
              {{ item.title }}
            </span>

            <span
              v-if="item.type !== 'no-change'"
              class="text-[8px] px-1.5 py-0.5 rounded-full border transition-all"
              :class="[
                item.type === 'change'
                  ? (isDark
                      ? 'bg-primary-accent/10 text-primary-accent border-primary-accent/40'
                      : 'bg-blue-50 text-blue-600 border-blue-300')
                  : '',
                item.type === 'new'
                  ? (isDark
                      ? 'bg-accent-yellow/10 text-accent-yellow border-accent-yellow/40'
                      : 'bg-yellow-50 text-yellow-600 border-yellow-300')
                  : ''
              ]"
            >
              {{ item.type === 'change' ? 'ìµœê·¼ ë³€ê²½' : 'ì‹ ê·œ ê·œì œ' }}
            </span>
          </div>

          <div
            class="text-xs leading-relaxed transition-all"
            :class="isDark ? 'text-gray-400' : 'text-gray-600'"
          >
            {{ item.description }}
          </div>
        </div>
      </div>
    </div> </div>
</template>

<script setup>
import { inject } from "vue";
const isDark = inject("isDark");

const timeline = [
  { id: 1, date: "US Â· 2025-12-03", title: "ì˜¤ëŠ˜ ë³€ê²½ì‚¬í•­ ì—†ìŒ", type: "no-change", description: "ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§ í™œì„±", },
  { id: 2, date: "US Â· 2025-12-02", title: "ì „ìë‹´ë°° ê´‘ê³  ê·œì œ ì—…ë°ì´íŠ¸", type: "change", description: "ë””ì§€í„¸ ë§ˆì¼€íŒ… ì œí•œì— ëŒ€í•œ ìƒˆë¡œìš´ ì—°ë°© ì§€ì¹¨", },
  { id: 3, date: "ID Â· 2025-12-01", title: "í¬ì¥ ìš”êµ¬ì‚¬í•­ ì‹ ì„¤", type: "new", description: "ê±´ê°• ê²½ê³  ë¼ë²¨ í¬ê¸°ê°€ íŒ¨í‚¤ì§€ì˜ 90%ë¡œ ì¦ê°€", },
  { id: 4, date: "ID Â· 2025-11-30", title: "í¡ì—° êµ¬ì—­ ê·œì œ í™•ëŒ€", type: "change", description: "ê¸ˆì—° êµ¬ì—­ìœ¼ë¡œ ì§€ì •ëœ ì¶”ê°€ ê³µê³µ ì¥ì†Œ", },
  { id: 5, date: "RU Â· 2025-11-28", title: "ì •ê¸° ëª¨ë‹ˆí„°ë§ ê²€ì‚¬ ì™„ë£Œ", type: "no-change", description: "ê·œì œ ë³€ê²½ ì‚¬í•­ ì—†ìŒ", },
  { id: 6, date: "ID Â· 2025-12-01", title: "í¬ì¥ ìš”êµ¬ì‚¬í•­ ì‹ ì„¤", type: "new", description: "ê±´ê°• ê²½ê³  ë¼ë²¨ í¬ê¸°ê°€ íŒ¨í‚¤ì§€ì˜ 90%ë¡œ ì¦ê°€", },
  { id: 7, date: "ID Â· 2025-11-30", title: "í¡ì—° êµ¬ì—­ ê·œì œ í™•ëŒ€", type: "change", description: "ê¸ˆì—° êµ¬ì—­ìœ¼ë¡œ ì§€ì •ëœ ì¶”ê°€ ê³µê³µ ì¥ì†Œ", },
  { id: 8, date: "RU Â· 2025-11-28", title: "ì •ê¸° ëª¨ë‹ˆí„°ë§ ê²€ì‚¬ ì™„ë£Œ", type: "no-change", description: "ê·œì œ ë³€ê²½ ì‚¬í•­ ì—†ìŒ", },
];
</script>

<style scoped>
.timeline-header {
  padding-bottom: 2px;
  border-bottom: 2px solid transparent;
  background-position: 0 100%;
  background-repeat: no-repeat;
  background-size: 100% 2px;
  letter-spacing: 0.35em;
}

/* Dark mode underline */
:global(.dark) .timeline-header {
  color: #E5E7EB;
  background-image: linear-gradient(
    to right,
    #fdff78,
    #88c0d0
  );
}

/* Light mode underline */
:global(.light) .timeline-header {
  color: #1f2937;
  background-image: linear-gradient(
    to right,
    #2c2c54,
    #8888b4
  );
}

/* ================================= */
/* â­ MODIFIED: Scrolbar Styles for .timeline-scroll-container */
/* ================================= */
/* ê¸°ë³¸ ì„¤ì • (ê³µí†µ) */
.timeline-scroll-container::-webkit-scrollbar {
  width: 8px;
}
.timeline-scroll-container::-webkit-scrollbar-button {
  display: none;
}
.timeline-scroll-container::-webkit-scrollbar-corner {
  background: transparent;
}

/* â˜€ Light Mode = html:not(.dark) */
html:not(.dark) .timeline-scroll-container::-webkit-scrollbar-track {
  background: #f0f0f0;
  border-radius: 4px;
}
html:not(.dark) .timeline-scroll-container::-webkit-scrollbar-thumb {
  background: #c0c0c0;
  border-radius: 4px;
}

/* ğŸŒ™ Dark Mode = html.dark */
html.dark .timeline-scroll-container::-webkit-scrollbar-track {
  background: #111827; 
}
html.dark .timeline-scroll-container::-webkit-scrollbar-thumb {
  background: #374151; 
  border-radius: 4px;
}

/* ê¸°ì¡´ ìƒ‰ìƒ ìœ ì§€ */
.bg-mid-navy { background-color: #0A192F; }
.bg-timeline-line { background-color: #1A3445; }
.text-primary-accent { color: #88C0D0; }
.bg-primary-accent { background-color: #88C0D0; }
.border-primary-accent { border-color: #88C0D0; }
.text-accent-yellow { color: #FDFF78; }
.bg-accent-yellow { background-color: #FDFF78; }
.border-accent-yellow { border-color: #FDFF78; }

</style>